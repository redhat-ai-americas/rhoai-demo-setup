# - name: Setup RHOAI and dependent components
#   hosts: localhost
#   gather_facts: false
#   vars:
#     repo_dir: "{{ lookup('env', 'REPO_DIR') | default(playbook_dir | dirname, true) }}"
#   tasks:
#     - name: Run authorino-operator.ansible.yml
#       ansible.builtin.command:
#         cmd: ansible-playbook {{ repo_dir }}/playbooks/setup/authorino-operator.ansible.yml
#       register: authorino_operator_result
#       failed_when: authorino_operator_result.rc != 0
#       changed_when: false

#     - name: Output authorino-operator.ansible.yml result
#       debug:
#         var: authorino_operator_result.stdout_lines

#     - name: Run serverless-operator.ansible.yml
#       ansible.builtin.command:
#         cmd: ansible-playbook {{ repo_dir }}/playbooks/setup/serverless-operator.ansible.yml
#       register: serverless_operator_result
#       failed_when: serverless_operator_result.rc != 0
#       changed_when: false

#     - name: Output serverless-operator.ansible.yml result
#       debug:
#         var: serverless_operator_result.stdout_lines

#     - name: Run servicemesh-operator.ansible.yml
#       ansible.builtin.command:
#         cmd: ansible-playbook {{ repo_dir }}/playbooks/setup/servicemesh-operator.ansible.yml
#       register: servicemesh_operator_result
#       failed_when: servicemesh_operator_result.rc != 0
#       changed_when: false

#     - name: Output servicemesh-operator.ansible.yml result
#       debug:
#         var: servicemesh_operator_result.stdout_lines

#     - name: Run rhoai-operator.ansible.yml
#       ansible.builtin.command:
#         cmd: ansible-playbook {{ repo_dir }}/playbooks/setup/rhoai-operator.ansible.yml
#       register: rhoai_operator_result
#       failed_when: rhoai_operator_result.rc != 0
#       changed_when: false

#     - name: Output rhoai-operator.ansible.yml result
#       debug:
#         var: rhoai_operator_result.stdout_lines

#     - name: Run serving-runtime.ansible.yml
#       ansible.builtin.command:
#         cmd: ansible-playbook {{ repo_dir }}/playbooks/setup/serving-runtime.ansible.yml
#       register: serving_runtime_result
#       failed_when: serving_runtime_result.rc != 0
#       changed_when: false

#     - name: Output serving-runtime.ansible.yml result
#       debug:
#         var: serving_runtime_result.stdout_lines

- import_playbook: setup/authorino-operator.ansible.yml
- import_playbook: setup/serverless-operator.ansible.yml
- import_playbook: setup/servicemesh-operator.ansible.yml
- import_playbook: setup/rhoai-operator.ansible.yml
- import_playbook: setup/serving-runtime.ansible.yml
- import_playbook: setup/monitoring.ansible.yml
